chdir('C:\\addip\radiograms');
original = imread('Test_part06.tif');
cut = cutroi(original,0,900,100,600);
handle1 = imshow('original',cut,0);
med = fastmedian(cut,0,71,71);
handle1_1 = imshow('Background1',med,0);
sub = imsub(cut,med);
handle1_3 = imshow('Subtracted',sub,1);
th = sth(sub,45,0.06,32768);
out_med = fastmedian(th,0,11,11);
indexed_image = index(out_med);
[num, tab] = calcfeat(cut,indexed_image,out_med,30,100000);
savefeat(tab,num,'features.txt');
im_f = genindexedimg(cut,out_med,tab,num,1);
handle3 = imshow('ith',out_med,1);
handle4 = imshow('numbered',im_f,1);
[out,disc] = ANNcls(tab,'ffnet_round_elong_Sofia_NN_classifier_6_5_2.ann',num);
%matrixwrite(out,'outvector.txt');
%matrixwrite(disc,'outvectorDisc.txt');